#!/usr/bin/env bash
set -e
set -u
set -o pipefail

if [[ $# -ne 1 ]]; then
  echo 'must pass exactly 1 argument' 1>&2
  exit 1
fi

XDG_CONFIG_HOME=${XDG_CONFIG_HOME:-$HOME/.config}
path="$XDG_CONFIG_HOME/snippets/$1"

die() {
  # TODO: list available snippets
  echo "no snippet found at $path" 1>&2
  exit 1
}

cat "$path" 2>/dev/null || die
